focus_tree = {
    id = kam_focus

    country = {
        base = 0
        modifier = {
            add = 10
            tag = KAM
        }
    }
    shared_focus = np_removing_focus_1

#DRZEWKO PRZEMYSŁOWE#

    focus = {
        id = KAM_przem1
        icon = GFX_focus_generic_improve_roads
        cost = 5
        x = 7
        y = 0
        completion_reward = {
            438 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            437 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            439 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                }
            }
            328 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                }
            }
        }
    }
    focus = {
        id = KAM_przem2
        icon = GFX_focus_generic_supply_line
        cost = 5
        relative_position_id = KAM_przem1
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem1    
        }

        completion_reward = {
            build_railway = {
                path = { 963 6250 3503 5294 4747 9172 9125 1921 9043 9001 967 3941 }
                level = 3
            }
            293 = {
                add_building_construction = {
                    type = supply_node
                    level = 1
                    province = 3941
                }
            }
        }
    }
    focus = {
        id = KAM_przem3
        icon = GFX_focus_generic_industrialists
        cost = 10
        relative_position_id = KAM_przem2
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem2    
        }

        completion_reward = {
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
        }
    }
    focus = {
        id = KAM_przem4
        icon = GFX_focus_generic_aluminum
        cost = 10
        relative_position_id = KAM_przem3
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem3   
        }

        completion_reward = {
            add_resource = {
                type = aluminium
                amount = 16
                state = 436
            }
        }
    }
    focus = {
        id = KAM_rozwojladka
        icon = GFX_focus_peopleup
        cost = 10
        relative_position_id = KAM_przem4
        x = -2
        y = 1

        available = {
            436 = {
                industrial_complex > 0
                infrastructure > 2
            }
        }

        prerequisite = {
            focus = KAM_przem4   
        }

        completion_reward = {
            436 = {
                set_state_category = town
                add_manpower = 25000
            }
        }
    }
    focus = {
        id = KAM_przem5
        icon = GFX_focus_factory1
        cost = 8
        relative_position_id = KAM_przem4
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem4   
        }

        completion_reward = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 3
            }
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 2
            }
        }
    }
    focus = {
        id = KAM_przem6
        icon = GFX_goal_generic_construct_civilian
        cost = 8
        relative_position_id = KAM_przem5
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem5
        }

        completion_reward = {
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
        }
    }

#DRZEWKO ARMII#

    focus = {
        id = KAM_armia_1
        icon = GFX_focus_generic_army_doctrines_2
        cost = 5
        x = 30
        y = 0
        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 1
                cost_reduction = 0.25
                category = land_doctrine
            }
            army_experience = 35
        }
    }

#ARMIA - MASS ASSAULT#

    focus = {
        id = KAM_armia_l_1
        icon = GFX_focus_generic_home_defense
        cost = 10
        relative_position_id = KAM_armia_1
        x = -1
        y = 1

        mutually_exclusive = {
            focus = KAM_armia_r_1    
        }

        prerequisite = {
            focus = KAM_armia_1
        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 2
                cost_reduction = 0.33
                category = cat_mass_assault
            }
        }
    }

#ARMIA - GRAND BATTLEPLAN#

    focus = {
        id = KAM_armia_r_1
        icon = GFX_focus_generic_anti_tank_guns
        cost = 10
        relative_position_id = KAM_armia_1
        x = 1
        y = 1

        mutually_exclusive = {
            focus = KAM_armia_l_1
        }

        prerequisite = {
            focus = KAM_armia_1
        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 2
                cost_reduction = 0.33
                category = cat_grand_battle_plan
            }
        }
    }

#POLITYCZNE - JAKUBIAK#

    focus = {
        id = KAM_focus_delegacja
        icon = GFX_focus_generic_diplomatic_treaty
        cost = 5
        x = 20
        y = 0
        completion_reward = {
            country_event = kam_event.1
        }
    }

#ŚCIEŻKA PRZYJAŹNI#

    focus = {
        id = KAM_przyjazn_z_piwokrata
        icon = GFX_focus_generic_treaty
        cost = 69
        relative_position_id = KAM_focus_delegacja
        x = -3
        y = 1

        available = {
            always = no
        }

        mutually_exclusive = {
            focus = KAM_smierc_wrogom_ojczyzny   
        }

        prerequisite = {
            focus = KAM_focus_delegacja
        }

        completion_reward = {

        }
    }

#ŚCIEŻKA WOJNY#

    focus = {
        id = KAM_smierc_wrogom_ojczyzny
        icon = GFX_focus_generic_attack_poland
        cost = 69
        relative_position_id = KAM_focus_delegacja
        x = 3
        y = 1

        available = {
            always = no
        }

        mutually_exclusive = {
            focus = KAM_przyjazn_z_piwokrata   
        }

        prerequisite = {
            focus = KAM_focus_delegacja
        }

        completion_reward = {
            
        }
    }
    focus = {
        id = KAM_focus_propaganda_wojenna
        icon = GFX_idea_generic_war_preparation
        cost = 5
        relative_position_id = KAM_smierc_wrogom_ojczyzny
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_smierc_wrogom_ojczyzny
        }

        completion_reward = {
            add_war_support = 0.1
        }
    }
    focus = {
        id = KAM_focus_ostateczne_rozwiazanie
        icon = GFX_idea_generic_war_preparation
        cost = 5
        relative_position_id = KAM_focus_propaganda_wojenna
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_propaganda_wojenna
        }

        completion_reward = {
            add_war_support = 0.1
            country_event = kam_event.3
        }
    }
    focus = {
        id = KAM_focus_przygotowanie_ofensywy
        icon = GFX_idea_generic_war_preparation
        cost = 10
        relative_position_id = KAM_focus_ostateczne_rozwiazanie
        x = 1
        y = 1

        available = {
            NOT = {
                has_completed_focus = KAM_focus_a_wiec_wojna
            }
        }

        prerequisite = {
            focus = KAM_focus_ostateczne_rozwiazanie
        }

        completion_reward = {
            set_country_flag = KAM_przygotowanie_done
        }
    }
    focus = {
        id = KAM_focus_nowa_jakosc
        icon = GFX_idea_generic_war_preparation
        cost = 8
        relative_position_id = KAM_focus_przygotowanie_ofensywy
        x = 0
        y = 1

        available = {
            NOT = {
                has_completed_focus = KAM_focus_a_wiec_wojna
            }
        }

        prerequisite = {
            focus = KAM_focus_przygotowanie_ofensywy
        }

        completion_reward = {
            set_country_flag = KAM_nowajakosc_done
        }
    }
    focus = {
        id = KAM_focus_a_wiec_wojna
        icon = GFX_idea_generic_war_preparation
        cost = 10
        relative_position_id = KAM_focus_ostateczne_rozwiazanie
        x = -3
        y = 1

        prerequisite = {
            focus = KAM_focus_ostateczne_rozwiazanie
        }

        will_lead_to_war_with = RZP

        completion_reward = {
            if = {
                limit = {
                    has_country_flag = KAM_przygotowanie_done
                }
                add_dynamic_modifier = {
                    modifier = KAM_przyg_mod
                }
            }
            if = {
                limit = {
                    has_country_flag = KAM_nowajakosc_done
                }
                set_variable = {
                    KAM_przyg_org = 0.35
                }
            }
            KAM = {
                declare_war_on = {
                    target = RZP
                    type = annex_everything
                }
            }
        }
    }
    focus = {
        id = KAM_focus_wielka_kleska
        icon = GFX_idea_generic_war_preparation
        cost = 1
        relative_position_id = KAM_focus_a_wiec_wojna
        x = 2
        y = 1

        available = {
            any_owned_state = {
                controller = {
                    NOT = {
                        tag = KAM
                    }
                }
            }
        }

        prerequisite = {
            focus = KAM_focus_a_wiec_wojna
        }

        completion_reward = {
            white_peace = {
                tag = RZP
                message = KAM_przegrana_z_jakubiakiem
            }
            add_war_support = -0.1
            add_stability = -0.1
            add_timed_idea = {
                idea = KAM_idea_przegrana_jakubiak
                months = 9
            }
        }
    }
    focus = {
        id = KAM_focus_przelamanie
        icon = GFX_idea_generic_war_preparation
        cost = 1
        relative_position_id = KAM_focus_a_wiec_wojna
        x = -1
        y = 1

        available = {
            OR = {
                290 = {
                    controller = {
                        tag = KAM
                    }
                }
                440 = {
                    controller = {
                        tag = KAM
                    }
                }
            }
        }

        prerequisite = {
            focus = KAM_focus_a_wiec_wojna
        }

        completion_reward = {
            add_war_support = 0.1
            add_timed_idea = {
                idea = KAM_idea_ped_natarcia
                months = 3
            }
        }
    }
    focus = {
        id = KAM_focus_totalerkrieg
        icon = GFX_focus_generic_total_war
        cost = 4
        relative_position_id = KAM_focus_przelamanie
        x = 1
        y = 1

        bypass = {
            KAM = {
                has_war = no
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_koniec_wojny
        }

        prerequisite = {
            focus = KAM_focus_przelamanie
        }

        completion_reward = {
            add_war_support = 0.05
            remove_dynamic_modifier = {
                modifier = KAM_przyg_mod
            }
        }
    }
    focus = {
        id = KAM_focus_koniec_wojny
        icon = GFX_focus_generic_total_war
        cost = 4
        relative_position_id = KAM_focus_przelamanie
        x = -1
        y = 1

        bypass = {
            KAM = {
                has_war = no
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_totalerkrieg
        }

        prerequisite = {
            focus = KAM_focus_przelamanie
        }

        completion_reward = {
            add_stability = 0.05
            white_peace = {
                tag = RZP
                message = KAM_wygrana_z_jakubiakiem
            }
            white_peace = RPL
            transfer_state = 290
            transfer_state = 440
            remove_dynamic_modifier = {
                modifier = KAM_przyg_mod
            }
        }
    }
    focus = {
        id = KAM_focus_integracja_nowych_ziem
        icon = GFX_focus_generic_farmland
        cost = 10
        relative_position_id = KAM_focus_totalerkrieg
        x = -1
        y = 1

        available = {
            AND = {
                290 = {
                    is_owned_and_controlled_by = KAM
                }
                440 = {
                    is_owned_and_controlled_by = KAM
                }
            }
        }

        prerequisite = {
            focus = KAM_focus_totalerkrieg
            focus = KAM_focus_koniec_wojny
        }

        completion_reward = {
            290 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            440 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            build_railway = {
                path = { 963 9205 1503 9133 4283 5796 1269 }
                level = 3
            }
            build_railway = {
                path = { 5469 1480 510 3045 2850 1218 5563 6210 1055 }
                level = 2
            }
        }
    }
    focus = {
        id = KAM_focus_nowi_lepsi_ludzie
        icon = GFX_focus_generic_farmland
        cost = 15
        relative_position_id = KAM_focus_integracja_nowych_ziem
        x = 0
        y = 1

        available = {
            AND = {
                290 = {
                    is_owned_and_controlled_by = KAM
                }
                440 = {
                    is_owned_and_controlled_by = KAM
                }
            }
        }

        prerequisite = {
            focus = KAM_focus_integracja_nowych_ziem
        }

        completion_reward = {
            290 = {
                add_core_of = KAM
                set_state_name = "Obwód Żywiecki"
                add_manpower = 20000
            }
            440 = {
                add_core_of = KAM
                set_state_name = "Obwód Grunwaldzki"
                set_state_category = large_town
                add_manpower = 35000
            }
            set_province_name = {
                id = 1269
                name = KAM_Grodno
            }
        }
    }
}